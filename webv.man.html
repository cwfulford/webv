<h2 id="heading1">NAME</h2>
<p class="indent">
<b><a href="./scripts.php?script=webv">webv</a></b>
- reports the the number of unique visitors for the current month to date.
</p>
<h2 id="heading2">SYNOPSIS</h2>
<p class="indent">

<b><a href="./scripts.php?script=webv">webv</a></b>

[
<b>-c </b>
<i>&lt;config_file&gt;</i>
]
[
<b>-d</b>
]
[
<b>-v </b>
]

<i>&lt;config_id&gt;</i>
 | 
<b>-V</b>

<br/>
</p>
<h2 id="heading3">AVAILABILITY</h2>
<p class="indent">
<b><a href="./scripts.php?script=webv">webv</a></b>
is a Bourne/Bash shell script which should work equally well on all versions of UNIX,
Linux and Mac OS X.
</p>
<h2 id="heading4">DESCRIPTION</h2>
<p class="indent">
<b><a href="./scripts.php?script=webv">webv</a></b>
uses  the configuration id as a lookup key to the configuration file
<i>/usr/local/etc/<a href="./scripts.php?script=webv.cf">webv.cf</a></i>
and finds the URI of an
<b>awstats</b>
report on a remote web server. 
The 
<b>URI</b>
is used by 
<b>wget</b>
to fetch the report and put it on a pipe to an
<b>awk </b>
script which extracts the required data item and performs
a calculation  of the average number of visitors per hour in the current
month and the total number of unique visitors predicted by the month end.
</p>
<p class="indent">
The script was written to monitor a number of websites where changes were 
being made and checking the impact of the changes by inspection was becoming
rather too time consuming.
</p>
<h2 id="heading5">OPTIONS</h2>
<p class="indent">
</p>
<p class="indent">
<b>-c</b>&nbsp;&nbsp;&nbsp;
Use the specified configuration file in preference to the default

<i>"/usr/local/etc/<a href="./scripts.php?script=webv.cf">webv.cf</a>"</i>
.
If no configuration file is found the 
script will terminate with an error message. 
</p>
<p class="indent">
<b>-d</b>&nbsp;&nbsp;&nbsp;
Set debug mode on. 
The 
<b>-x</b>&nbsp;&nbsp;&nbsp;
 option is set within the shell
and each command in the script is echoed to the console.
</p>
<p class="indent">
<b>-v</b>&nbsp;&nbsp;&nbsp;
The usual output is just the 3 numbers repesenting the total number of
unique visitors so far in the month, the daily average and the
predicted outturn. With the 
<b>-v</b>&nbsp;&nbsp;&nbsp;
 option the output is formated and 
labled. This is particularly useful when used with cron to report on a 
number of different sites.
</p>
<p class="indent">
&lt;
<i>config_id</i>
&gt;
The configuration identity is the key to the stanza in the configuration
file which will be used to determine the required 
<b>URI</b>
 for the stats
report.
</p>
<p class="indent">
<b>-V</b>&nbsp;&nbsp;&nbsp;
Print version details and exit.
</p>
<h2 id="heading7">FILES</h2>
<p class="indent">
<i><a href="./scripts.php?script=webv.cf">webv.cf</a></i>.
</p>
<h2 id="heading6">EXAMPLES</h2>
<p class="indent">

</p><div class="cmdline">
<pre>
for key in  ai cl fc fs  t4l;do
	webv -v $key
done
</pre></div>
<p class="indent">
</p>
<p class="indent">
Each id is looked up in the default configuration file

<i>/usr/local/etc/<a href="./scripts.php?script=webv.cf">webv.cf</a></i>
. Using the 
<b>URI</b>
 found the script
fetches the awstats report, extracts the number of unique visitors for
the day, calculates the daily average for the month and the predicted outturn
at the month end. E.g.

</p><div class="cmdline">
<pre>
  ai 	- Visitors so far:  81  Ave:  8  Prediction: 251
  cl 	- Visitors so far: 141  Ave: 14  Prediction: 437
  fc 	- Visitors so far:  80  Ave:  8  Prediction: 248
  fs 	- Visitors so far:  26  Ave:  3  Prediction:  81
 t4l 	- Visitors so far: 139  Ave: 14  Prediction: 431
</pre></div>
<p class="indent">
</p>
<h2 id="heading8">BUGS</h2>
<p class="indent">
The script is quite crude and has very little, if any,  error checking.
The consequences of unexpected input are untested.
</p>
<h2 id="heading9">SEE ALSO</h2>
<p class="indent">
<a href="./scripts.php?script=webupd&man=y"><i>webupd</i>.</a>
</p>
<h2 id="heading10">AUTHOR</h2>
<p class="indent">
Clifford W Fulford, City Linux. Contact fulford@fulford.net or +44 (0)709 229 5385.
</p>
	
