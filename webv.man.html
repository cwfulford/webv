<h2 id="heading1">NAME</h2>
<p class="indent">
<b><a href="./scripts.php?script=webv">webv</a></b>
- reports the the number of unique visitors for the current month to date.
</p>
<h2 id="heading2">SYNOPSIS</h2>
<p class="indent">

<b><a href="./scripts.php?script=webv">webv</a></b>

[
<b>-c </b>
<i>&lt;config_file&gt;</i>
]
[
<b>-d</b>
]
[
<b>-s</b>
]
[
<b>-v </b>
]

<i>&lt;config_id&gt;</i>
 
[
<i>&lt;config_id&gt; ...</i>
] | 
<b>-V</b>

<br/>
</p>
<h2 id="heading3">AVAILABILITY</h2>
<p class="indent">
<b><a href="./scripts.php?script=webv">webv</a></b>
is a Bourne/Bash shell script which should work equally well on all versions of UNIX,
Linux and Mac OS X.
</p>
<h2 id="heading4">DESCRIPTION</h2>
<p class="indent">
<b><a href="./scripts.php?script=webv">webv</a></b>
uses  the configuration id(s) as the lookup key(s) to the configuration file
<i>/usr/local/etc/<a href="./scripts.php?script=webv.cf">webv.cf</a></i>
and finds the locaton(s) of the
<b>awstats</b>
report(s) on a remote web server. 
The locations are used by 
<b>wget</b>
to fetch the report(s) to put on a pipe to a
<b>bash </b>
script which extracts the total number of unique visitor in the month
to date and calculates the average number of visitors per minute 
and the predicted total(s) for the month end.
</p>
<p class="indent">
The script was written to monitor a number of websites where changes were 
being made in order to routinely check the impact of the changes.
</p>
<h2 id="heading5">OPTIONS</h2>
<p class="indent">
</p>
<p class="indent">
<b>-c</b>&nbsp;&nbsp;&nbsp;
Use the specified configuration file in preference to the default

<i>"/usr/local/etc/<a href="./scripts.php?script=webv.cf">webv.cf</a>"</i>
.
If no configuration file is found the 
script will terminate with an error message. 
</p>
<p class="indent">
<b>-d</b>&nbsp;&nbsp;&nbsp;
Set debug mode on. 
The 
<b>-x</b>&nbsp;&nbsp;&nbsp;
 option is set within the shell
and each command in the script is echoed to the console.
</p>
<p class="indent">
<b>-s</b>&nbsp;&nbsp;&nbsp;
The output is sorted in reverse numerical order. 
</p>
<p class="indent">
<b>-v</b>&nbsp;&nbsp;&nbsp;
The usual output is just the 3 numbers repesenting the total number of
unique visitors so far in the month, the daily average and the
predicted outturn. With the 
<b>-v</b>&nbsp;&nbsp;&nbsp;
 option the output is formated and 
labled. This is particularly useful when used with cron to report on a 
number of different sites.
</p>
<p class="indent">
&lt;
<i>config_id</i>
&gt;
The configuration identity is the key to the stanza in the configuration
file which will be used to determine the required 
<b>URI</b>
 for the stats
report.
</p>
<p class="indent">
<b>-V</b>&nbsp;&nbsp;&nbsp;
Print version details and exit.
</p>
<h2 id="heading7">FILES</h2>
<p class="indent">
<i><a href="./scripts.php?script=webv.cf">webv.cf</a></i>.
</p>
<h2 id="heading6">EXAMPLES</h2>
<p class="indent">
</p>
<p class="indent">
</p><div class="cmdline">
<pre>
	$: webv -v  ai cl fc fs  t4l
</p>
<p class="indent">
</p><div class="cmdline">
<pre>
                       Website   Visitors   Average Prediction
   www.amharic-interpreter.com       46       5.33      165
             www.citylinux.com      319      37.58     1165
               fcl.fulford.net      432      50.83     1576
       www.flare-support.co.uk     3543     417.89    12955
        www.training4linux.com       44       5.18      161
</pre></div>
<p class="indent">
</p>
<p class="indent">
Each id is looked up in the default configuration file

<i>/usr/local/etc/<a href="./scripts.php?script=webv.cf">webv.cf</a></i>
. Using the location found the script
fetches the awstats reports, extracts the number of unique visitors for
the month to date, calculates the daily average for the month and the
predicted totals for the month end. E.g.
</p>
<p class="indent">
</p><div class="cmdline">
<pre>
	$: webv -v  -s ai cl fc fs  t4l
</p>
<p class="indent">
</p><div class="cmdline">
<pre>
                       Website   Visitors   Average Prediction
       www.flare-support.co.uk     3543     417.89    12955
               fcl.fulford.net      432      50.83     1576
             www.citylinux.com      319      37.58     1165
   www.amharic-interpreter.com       46       5.33      165
        www.training4linux.com       44       5.18      161
</pre></div>
<p class="indent">
</p>
<p class="indent">
Each id is looked up in the default configuration file

<i>/usr/local/etc/<a href="./scripts.php?script=webv.cf">webv.cf</a></i>
. Using the 
<b>location</b>
 found the script
fetches the awstats reports, extracts the number of unique visitors in
the current month, calculates the daily average and the predicted total
for the month end as above but sorts the result is reverse numerical
order . E.g.
</p>
<p class="indent">
</p>
<h2 id="heading8">BUGS</h2>
<p class="indent">
The script calculate the predicted total from the average number of visits
per minute at the time of invocation. At the start of the month the
number of unique visitors is close to the total number of visits. As the
month progress the difference between visitor and unique visitors increaes.
It is for this reason that the predicted numbers tends to be exagerated
at the month start and becomes progressively more accurate.
</p>
<p class="indent">
The script is utilitarian and has very little, if any,  error checking.
The consequences of unexpected input are untested.
</p>
<h2 id="heading9">SEE ALSO</h2>
<p class="indent">
<a href="./scripts.php?script=webupd&amp;man=y"><i>webupd</i>.</a>
</p>
<h2 id="heading10">AUTHOR</h2>
<p class="indent">
Clifford W Fulford, City Linux. Contact fulford@fulford.net or +44 (0)709 229 5385.
</p>
	
